{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport * as echarts from \"echarts\";\n//const d3=require('d3-dsv')\nexport default {\n  data() {\n    return {\n      myChart: {},\n      xData: [],\n      yData: [],\n      yData1: [],\n      yData2: [],\n      yData3: [],\n      y1name: '',\n      y2name: '',\n      y3name: '',\n      myChartStyle: {\n        float: \"left\",\n        width: \"100%\",\n        height: \"85%\"\n      },\n      flag: 0\n    };\n  },\n  created() {\n    this.Initdata();\n  },\n  mounted() {\n    this.initEcharts();\n  },\n  watch: {\n    flag: function () {\n      this.flag = 0;\n      this.initEcharts();\n    }\n  },\n  methods: {\n    Initdata() {\n      const path = \"http://localhost:5000/similar\";\n      axios.get(path).then(res => {\n        var v = res.data[0];\n        var v1 = res.data[1];\n        var v2 = res.data[2];\n        var v3 = res.data[3];\n        for (var i = 0; i < v.length; i++) {\n          this.xData.push(String(v[i].Date));\n          this.yData.push(Number(v[i].value));\n          this.yData1.push(Number(v1[i].value));\n          this.yData2.push(Number(v2[i].value));\n          this.yData3.push(Number(v3[i].value));\n          this.flag = 1;\n        }\n        this.y1name = String(res.data[4][0].value);\n        this.y2name = String(res.data[4][1].value);\n        this.y3name = String(res.data[4][2].value);\n      });\n    },\n    initEcharts() {\n      const option = {\n        dataZoom: [{\n          type: 'slider',\n          show: true,\n          xAxisIndex: [0],\n          filterMode: 'filter',\n          bottom: 10\n        }],\n        xAxis: [{\n          data: this.xData,\n          type: 'category',\n          boundaryGap: false,\n          axisLabel: {\n            color: '#000',\n            fontSize: 12\n          }\n        }],\n        legend: {\n          data: [\"异常曲线-0.csv\", '相似度top1: ' + this.y1name + '.csv', '相似度top2: ' + this.y2name + '.csv', '相似度top3: ' + this.y3name + '.csv'],\n          textStyle: {\n            fontSize: 10 //图例字体大小\n          },\n\n          itemHeight: 10,\n          //图例大小\n          type: 'scroll',\n          //图例滚动显示\n          orient: 'vertical',\n          //图例纵向显示\n          //图例位置\n          right: 0,\n          top: 30,\n          bottom: 30\n        },\n        yAxis: [{\n          type: 'value',\n          axisLabel: {\n            color: '#000',\n            fontSize: 16\n          },\n          axisLine: {\n            show: true\n          },\n          axisTick: {\n            show: true\n          },\n          // 网格颜色\n          splitLine: {\n            lineStyle: {\n              color: '#000',\n              opacity: 0.5\n            }\n          },\n          min: value => {\n            return value.min;\n          },\n          max: value => {\n            return value.max;\n          }\n        }],\n        series: [{\n          name: '异常曲线-0.csv',\n          data: this.yData,\n          type: \"line\",\n          showSymbol: true,\n          itemStyle: {\n            borderRadius: 30\n          }\n        }, {\n          name: '相似度top1: ' + this.y1name + '.csv',\n          data: this.yData1,\n          type: \"line\",\n          showSymbol: true,\n          itemStyle: {\n            borderRadius: 30\n          }\n        }, {\n          name: '相似度top2: ' + this.y2name + '.csv',\n          data: this.yData2,\n          type: \"line\",\n          showSymbol: true,\n          itemStyle: {\n            borderRadius: 30\n          }\n        }, {\n          name: '相似度top3: ' + this.y3name + '.csv',\n          data: this.yData3,\n          type: \"line\",\n          showSymbol: true,\n          itemStyle: {\n            borderRadius: 30\n          }\n        }],\n        color: ['#ec0606', '#e1aabb', '#66cc99', '#89c4f4'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'line',\n            label: {\n              backgroundColor: '#fff'\n            }\n          }\n        },\n        grid: {\n          //坐标系设置\n          top: 10,\n          left: 5,\n          right: 30,\n          bottom: 50,\n          containLabel: true\n        }\n      };\n      this.myChart = echarts.init(document.getElementById(\"simichart3\"));\n      this.myChart.setOption(option);\n      window.addEventListener(\"resize\", () => {\n        this.myChart.resize();\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","echarts","data","myChart","xData","yData","yData1","yData2","yData3","y1name","y2name","y3name","myChartStyle","float","width","height","flag","created","Initdata","mounted","initEcharts","watch","methods","path","get","then","res","v","v1","v2","v3","i","length","push","String","Date","Number","value","option","dataZoom","type","show","xAxisIndex","filterMode","bottom","xAxis","boundaryGap","axisLabel","color","fontSize","legend","textStyle","itemHeight","orient","right","top","yAxis","axisLine","axisTick","splitLine","lineStyle","opacity","min","max","series","name","showSymbol","itemStyle","borderRadius","tooltip","trigger","axisPointer","label","backgroundColor","grid","left","containLabel","init","document","getElementById","setOption","window","addEventListener","resize"],"sources":["E:\\SoftwareTest\\BigData_lu11.0-merge\\VUE\\frontend\\src\\components\\SimilarityChart3.vue"],"sourcesContent":["<template>\r\n  <div class=\"cluster\">\r\n    <div class=\"echart\" id=\"simichart3\" :style=\"myChartStyle\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport * as echarts from \"echarts\";\r\n//const d3=require('d3-dsv')\r\nexport default {\r\n   data(){\r\n      return{\r\n        myChart:{},\r\n        xData:[],\r\n        yData:[],\r\n        yData1:[],\r\n        yData2:[],\r\n        yData3:[],\r\n        y1name:'',\r\n        y2name:'',\r\n        y3name:'',\r\n        myChartStyle:{float: \"left\", width: \"100%\", height: \"85%\"},\r\n        flag:0\r\n      }\r\n   },\r\n    created() {\r\n       this.Initdata()\r\n    },\r\n    mounted() {\r\n        this.initEcharts()\r\n    },\r\n    watch:{\r\n        flag:function() {\r\n          this.flag=0\r\n          this.initEcharts();\r\n        }\r\n    },\r\n    methods:{\r\n        Initdata()\r\n        {\r\n            const path=\"http://localhost:5000/similar\";\r\n            axios.get(path).then(res=>{\r\n                var v = res.data[0]\r\n                var v1 = res.data[1]\r\n                var v2 = res.data[2]\r\n                var v3 = res.data[3]\r\n                for(var i=0;i<v.length;i++){\r\n                    this.xData.push(String(v[i].Date))\r\n                    this.yData.push(Number(v[i].value))\r\n                    this.yData1.push(Number(v1[i].value))\r\n                    this.yData2.push(Number(v2[i].value))\r\n                    this.yData3.push(Number(v3[i].value))\r\n                    this.flag=1\r\n                }\r\n                this.y1name = String(res.data[4][0].value)\r\n                this.y2name = String(res.data[4][1].value)\r\n                this.y3name = String(res.data[4][2].value)\r\n            })\r\n        },\r\n        initEcharts() {\r\n        const option={\r\n          dataZoom: [{\r\n            type: 'slider',\r\n            show:true ,\r\n            xAxisIndex: [0],\r\n            filterMode: 'filter',\r\n            bottom: 10\r\n          }],\r\n          xAxis:[{\r\n            data: this.xData,\r\n            type: 'category',\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n                color: '#000',\r\n                fontSize: 12\r\n            }\r\n          }],\r\n          legend: {\r\n              data: [\"异常曲线-0.csv\",'相似度top1: '+this.y1name+'.csv',\r\n                '相似度top2: '+this.y2name+'.csv', '相似度top3: '+this.y3name+'.csv'],\r\n              textStyle: {\r\n                  fontSize: 10, //图例字体大小\r\n              },\r\n              itemHeight: 10,  //图例大小\r\n              type: 'scroll', //图例滚动显示\r\n              orient: 'vertical', //图例纵向显示\r\n              //图例位置\r\n              right: 0,\r\n              top: 30,\r\n              bottom: 30,\r\n          },\r\n          yAxis:[{\r\n              type: 'value',\r\n              axisLabel: {\r\n                  color: '#000',\r\n                  fontSize: 16\r\n              },\r\n              axisLine: {\r\n                    show: true\r\n              },\r\n              axisTick: {\r\n                  show: true\r\n              },\r\n              // 网格颜色\r\n              splitLine: {\r\n                  lineStyle: {\r\n                      color: '#000',\r\n                      opacity: 0.5\r\n                  }\r\n              },\r\n              min: (value) => {\r\n                  return value.min\r\n              },\r\n              max: (value) => {\r\n                  return value.max\r\n              }\r\n          }],\r\n          series:[\r\n              {\r\n                name: '异常曲线-0.csv',\r\n                data:this.yData,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n              {\r\n                name: '相似度top1: '+this.y1name+'.csv',\r\n                data:this.yData1,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n              {\r\n                name: '相似度top2: '+this.y2name+'.csv',\r\n                data:this.yData2,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n              {\r\n                name: '相似度top3: '+this.y3name+'.csv',\r\n                data:this.yData3,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n          ],\r\n          color:['#ec0606','#e1aabb','#66cc99','#89c4f4'],\r\n\r\n          tooltip: {\r\n            trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'line',\r\n                    label: {\r\n                        backgroundColor: '#fff'\r\n                    }\r\n                }\r\n          },\r\n          grid: { //坐标系设置\r\n            top: 10,\r\n            left: 5,\r\n            right: 30,\r\n            bottom: 50,\r\n            containLabel: true\r\n          }\r\n      }\r\n      \r\n      this.myChart = echarts.init(document.getElementById(\"simichart3\"));\r\n      this.myChart.setOption(option);\r\n      window.addEventListener(\"resize\",()=>{\r\n        this.myChart.resize();\r\n      })\r\n    },\r\n   }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.cluster{\r\n    height:100%;\r\n}\r\n\r\nselect{\r\n  background-color: rgba(1,1,1,0);\r\n  color: rgb(57, 122, 179);\r\n  border-color: rgba(21,75,140,0.5);\r\n  border-radius: 50px;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}