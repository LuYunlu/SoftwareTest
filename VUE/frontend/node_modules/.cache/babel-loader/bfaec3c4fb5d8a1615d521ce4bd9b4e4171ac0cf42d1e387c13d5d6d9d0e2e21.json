{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cluster\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"echart\",\n    id: \"simichart2\",\n    style: _normalizeStyle($data.myChartStyle)\n  }, null, 4 /* STYLE */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","id","style","_normalizeStyle","$data","myChartStyle"],"sources":["E:\\SoftwareTest\\BigData_cx8.0\\VUE\\client\\src\\components\\SimilarityChart2.vue"],"sourcesContent":["<template>\r\n  <div class=\"cluster\">\r\n    <div class=\"echart\" id=\"simichart2\" :style=\"myChartStyle\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport * as echarts from \"echarts\";\r\n//const d3=require('d3-dsv')\r\nexport default {\r\n   data(){\r\n      return{\r\n        myChart:{},\r\n        xData:[],\r\n        yData:[],\r\n        yData1:[],\r\n        yData2:[],\r\n        y1name:'',\r\n        y2name:'',\r\n        myChartStyle:{float: \"left\", width: \"100%\", height: \"85%\"},\r\n        flag:0\r\n      }\r\n   },\r\n    created() {\r\n       this.Initdata()\r\n    },\r\n    mounted() {\r\n        this.initEcharts()\r\n    },\r\n    watch:{\r\n        flag:function() {\r\n          this.flag=0\r\n          this.initEcharts();\r\n        }\r\n    },\r\n    methods:{\r\n        Initdata()\r\n        {\r\n            const path=\"http://localhost:5000/similar\";\r\n            axios.get(path).then(res=>{\r\n                var v = res.data[0]\r\n                var v1 = res.data[1]\r\n                var v2 = res.data[2]\r\n                for(var i=0;i<v.length;i++){\r\n                    this.xData.push(String(v[i].Date))\r\n                    this.yData.push(Number(v[i].value))\r\n                    this.yData1.push(Number(v1[i].value))\r\n                    this.yData2.push(Number(v2[i].value))\r\n                  this.flag=1\r\n                }\r\n                this.y1name = String(res.data[4][0].value)\r\n                this.y2name = String(res.data[4][1].value)\r\n            })\r\n        },\r\n        initEcharts() {\r\n        const option={\r\n          dataZoom: [{\r\n            type: 'slider',\r\n            show:true ,\r\n            xAxisIndex: [0],\r\n            filterMode: 'filter',\r\n            bottom: 10\r\n          }],\r\n          legend: {\r\n              data: [\"异常曲线-0.csv\",'相似度top1: '+this.y1name+'.csv','相似度top2: '+this.y2name+'.csv'],\r\n              textStyle: {\r\n                  fontSize: 10, //图例字体大小\r\n              },\r\n              itemHeight: 10,  //图例大小\r\n              type: 'scroll', //图例滚动显示\r\n              orient: 'vertical', //图例纵向显示\r\n              //图例位置\r\n              right: 0,\r\n              top: 30,\r\n              bottom: 30,\r\n          },\r\n          xAxis:[{\r\n            data: this.xData,\r\n            type: 'category',\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n                color: '#000',\r\n                fontSize: 12\r\n            }\r\n          }],\r\n          yAxis:[{\r\n              type: 'value',\r\n              axisLabel: {\r\n                  color: '#000',\r\n                  fontSize: 16\r\n              },\r\n              axisLine: {\r\n                    show: true\r\n              },\r\n              axisTick: {\r\n                  show: true\r\n              },\r\n              // 网格颜色\r\n              splitLine: {\r\n                  lineStyle: {\r\n                      color: '#000',\r\n                      opacity: 0.5\r\n                  }\r\n              },\r\n              min: (value) => {\r\n                  return value.min\r\n              },\r\n              max: (value) => {\r\n                  return value.max\r\n              }\r\n          }],\r\n          series:[\r\n              {\r\n                name: '异常曲线-0.csv',\r\n                data:this.yData,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n              {\r\n                name: '相似度top1: '+this.y1name+'.csv',\r\n                data:this.yData1,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n              {\r\n                name: '相似度top2: '+this.y2name+'.csv',\r\n                data:this.yData2,\r\n                type:\"line\",\r\n                showSymbol:true,\r\n                itemStyle: {\r\n                    borderRadius: 30,\r\n                },\r\n              },\r\n          ],\r\n          color:['#ec0606','#e1aabb','#66cc99'],\r\n\r\n          tooltip: {\r\n            trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'line',\r\n                    label: {\r\n                        backgroundColor: '#13205a'\r\n                    }\r\n                }\r\n          },\r\n          grid: { //坐标系设置\r\n            top: 10,\r\n            left: 5,\r\n            right: 30,\r\n            bottom: 50,\r\n            containLabel: true\r\n          }\r\n      }\r\n      \r\n      this.myChart = echarts.init(document.getElementById(\"simichart2\"));\r\n      this.myChart.setOption(option);\r\n      window.addEventListener(\"resize\",()=>{\r\n        this.myChart.resize();\r\n      })\r\n    },\r\n   }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.cluster{\r\n    height:100%;\r\n}\r\n\r\nselect{\r\n  background-color: rgba(1,1,1,0);\r\n  color: rgb(57, 122, 179);\r\n  border-color: rgba(21,75,140,0.5);\r\n  border-radius: 50px;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAS;;uBAApBC,mBAAA,CAEM,OAFNC,UAEM,GADJC,mBAAA,CAAgE;IAA3DH,KAAK,EAAC,QAAQ;IAACI,EAAE,EAAC,YAAY;IAAEC,KAAK,EAAAC,eAAA,CAAEC,KAAA,CAAAC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}